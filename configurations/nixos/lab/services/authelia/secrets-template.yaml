# Authelia Secrets Template
#
# This file shows the required secrets structure for Authelia.
# Generate these secrets using the commands shown below, then add them to your
# actual secrets/secrets.yaml file and encrypt with SOPS.
#
# DO NOT commit this file with actual secrets!

# Generate secrets using these commands:
# openssl rand -hex 32  # For each secret below

authelia:
  # JWT secret - used to sign JWTs for session management
  # Generate with: openssl rand -hex 32
  jwt_secret: "REPLACE_WITH_64_CHARACTER_HEX_STRING"
  
  # Storage encryption key - used to encrypt sensitive data in the database
  # Generate with: openssl rand -hex 32
  storage_encryption_key: "REPLACE_WITH_64_CHARACTER_HEX_STRING"
  
  # Session secret - used to encrypt session cookies
  # Generate with: openssl rand -hex 32
  session_secret: "REPLACE_WITH_64_CHARACTER_HEX_STRING"

# Example: How to generate all secrets at once
# Run this in your terminal:
#
# echo "authelia:"
# echo "  jwt_secret: \"$(openssl rand -hex 32)\""
# echo "  storage_encryption_key: \"$(openssl rand -hex 32)\""
# echo "  session_secret: \"$(openssl rand -hex 32)\""
#
# Then copy the output to your secrets/secrets.yaml file and encrypt it with:
# sops -e -i secrets/secrets.yaml

# Optional: SMTP Configuration (if you want email notifications)
# If you configure SMTP notifier instead of filesystem notifier, add:
#
# authelia_smtp:
#   password: "YOUR_SMTP_PASSWORD"
#
# And update authelia.nix to use SMTP notifier:
#
# notifier = {
#   smtp = {
#     address = "smtp.gmail.com:587";
#     username = "your-email@gmail.com";
#     password = ""; # Will be read from secrets
#     sender = "Authelia <authelia@yourdomain.com>";
#     startup_check_address = "test@yourdomain.com";
#   };
# };

# Optional: OIDC Configuration
# If using Authelia as an OIDC provider, you may also want to store:
#
# authelia_oidc:
#   # HMAC secret for OIDC
#   hmac_secret: "REPLACE_WITH_64_CHARACTER_HEX_STRING"
#   
#   # Private key for signing OIDC tokens (RSA or ECDSA)
#   # Generate with: openssl genrsa -out private.pem 4096
#   # Then: cat private.pem | base64 -w 0
#   issuer_private_key: |
#     -----BEGIN RSA PRIVATE KEY-----
#     YOUR_PRIVATE_KEY_HERE
#     -----END RSA PRIVATE KEY-----
#
#   # Client secrets for each OIDC client (e.g., Gitea)
#   # Generate unhashed: openssl rand -hex 32
#   # Store the unhashed version for configuring the client app
#   # Hash for Authelia with: docker run --rm authelia/authelia:latest authelia crypto hash generate argon2 --password 'your-secret'
#   clients:
#     gitea_secret: "UNHASHED_CLIENT_SECRET_FOR_REFERENCE"
#     # The hashed version goes in authelia.nix configuration
